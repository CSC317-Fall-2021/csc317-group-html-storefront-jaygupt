<!DOCTYPE html>
<html lang="en">

<head>
    <title>Homepage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/homepage.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body leftmargin="0" topmargin="0">
    <!-- Navbar Beginning -->
    <header>
        <nav class="navbar">
            <h1 id="logo"><a href="index.html" id="logo-text"><span class="logo-g">G</span>ood<span
                        class="logo-g">G</span>ame</a></h1>
            <a href="#" class="current">HOME</a>
            <a href="categories.html">CATEGORIES</a>
            <input type="text" placeholder="Search products..." id="productSearch">
            <a href="login.html">LOGIN/REGISTER</a>
            <a href="cart.html">CART</a>
            <a href="about_us.html">ABOUT</a>
        </nav>
    </header>
    <!-- Navbar Ending -->

    <!-- Animated Banners Beginning -->
    <div id="animatedSlider">
        <figure>
            <div class="homepage-banner">
                <img src="images/banner_images/christmas.png" alt="Christmas Background">
                <div class="banner-text">
                    <div class="main-tag">Christmas Sale</div>
                    <div class="main-subtitle">Limited-time holiday sale! Great deals for the whole family!</div>
                </div>
            </div>
            <div class="homepage-banner">
                <img src="images/banner_images/halloween.jpeg" alt="Jack-O-Lanterns Smiling">
                <div class="banner-text" id="halloweenText">
                    <div class="main-tag">Halloween Sale</div>
                    <div class="main-subtitle">No tricks, just treats! 50% Off on Orders Above $200!</div>
                </div>
            </div>
            <div class="homepage-banner">
                <img src="images/banner_images/valentines_day.png" id="valentineImage" alt="Valentine's Day">
                <div class="banner-text">
                    <div class="main-tag">Will you be my Valentine?</div>
                    <div class="main-subtitle">Toys for Valentine's Day on sale now. Don't wait till February.</div>
                </div>
            </div>
            <div class="homepage-banner">
                <img src="images/banner_images/legos.png" id="legoImage" alt="Legos">
                <div class="banner-text">
                    <div class="main-tag">Limited Time Sale on Legos!</div>
                    <div class="main-subtitle">15% off Lego sets over $100</div>
                </div>
            </div>
            <div class="homepage-banner">
                <img src="images/banner_images/christmas.png" alt="Christmas Background">
                <div class="banner-text">
                    <div class="main-tag">Christmas Sale</div>
                    <div class="main-subtitle">Limited-time holiday sale! Great deals for the whole family!</div>
                </div>
            </div>
        </figure>
    </div>
    <!-- Animated Banners Ending -->

    <!-- Trending Section Beginning -->
    <div class="trending-section">
        <div class="trending-title">Trending & Best Sellers</div>
        <div class="grid-container"></div>
    </div>
    <!-- Trending Section Ending -->

    <!-- Footer Beginning -->
    <footer class="footer">
        <p>GoodGame.com, Copyright &copy;2021</p>
    </footer>
    <!-- Footer Ending -->

    <!-- Script Tags -->
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" defer>
        const trendingItems = ["Monopoly", "Batman", "Uno", "Ride-On Car", "Hot Wheels", "Life"];

        const gridContainerDivElement = document.getElementsByClassName("grid-container")[0];

        for (let i = 0; i < trendingItems.length; i++) {
            /*
                <div class="grid-item">
                    <a href="product_pages/board_games/monopoly.html">
                        <img class="trending-item-image" src="images/product_images/board_games/monopoly.jpeg"
                            alt="Monopoly">
                    </a>
                    <div class="trending-item-name product-title">Monopoly</div>
                    <div class="trending-item-price">$21.99</div>
                    <button class="btn add-to-cart">Add to Cart</button>
                    <div class="increment-and-decrement">
                        <button class="minus-btn">-</button>
                        <input type="text" class="quantity" value="1" readonly>
                        <button class="plus-btn">+</button>
                    </div>
                </div>
            */
            const itemName = trendingItems[i];
            const itemInformation = findProduct(itemName);
            const gridItemDivElement = document.createElement("div");
            gridContainerDivElement.appendChild(gridItemDivElement);
            gridItemDivElement.className = "grid-item";

            // check to see if product is in cart already
            const productInCart = cart.includes(itemName)
            // by default, itemQuantity is 0
            var itemQuantity = 0;

            // find quantity of item using cart and quantities array (if it is in cart)
            if (productInCart) {
                const indexOfProduct = cart.indexOf(itemName); // find index of product in cart array
                itemQuantity = quantities[indexOfProduct];
            }

            /*
                <a href="product_pages/board_games/monopoly.html">
                    <img class="trending-item-image" src="images/product_images/board_games/monopoly.jpeg"
                        alt="Monopoly">
                </a>
            */
            const gridItemAElement = document.createElement("a");
            gridItemDivElement.appendChild(gridItemAElement);
            const linkToProductPage = getLinkToProductPage(itemName);
            gridItemAElement.setAttribute("href", linkToProductPage);
            const gridItemImgElement = document.createElement("img");
            gridItemAElement.appendChild(gridItemImgElement);
            const itemImageSrc = itemInformation["imageSrc"];
            gridItemImgElement.className = "trending-item-image";
            gridItemImgElement.setAttribute("src", itemImageSrc);
            gridItemImgElement.setAttribute("alt", itemName);

            /* <div class="trending-item-name product-title">Monopoly</div> */
            const itemNameDivElement = document.createElement("div");
            gridItemDivElement.appendChild(itemNameDivElement);
            itemNameDivElement.classList.add("trending-item-name", "product-title");
            itemNameDivElement.textContent = itemName;

            /* <div class="trending-item-price">$21.99</div> */
            const itemPriceDivElement = document.createElement("div");
            gridItemDivElement.appendChild(itemPriceDivElement);
            itemPriceDivElement.className = "trending-item-price";
            const itemPrice = itemInformation["price"];
            itemPriceDivElement.textContent = "$" + itemPrice;

            /* <button class="btn add-to-cart">Add to Cart</button> */
            const addToCartButton = document.createElement("button");
            gridItemDivElement.appendChild(addToCartButton);
            addToCartButton.classList.add("btn", "add-to-cart");
            addToCartButton.textContent = "Add to Cart";

            /* 
            <div class="increment-and-decrement">
                <button class="minus-btn">-</button>
                <input type="text" class="quantity" value="1" readonly>
                <button class="plus-btn">+</button>
            </div>
            */
           const incrementAndDecrementDivElement = document.createElement("div");
           gridItemDivElement.appendChild(incrementAndDecrementDivElement);
           incrementAndDecrementDivElement.className = "increment-and-decrement";

           // if product is not in cart yet, do not show the increment/decrement counter
           if (!productInCart) {
               incrementAndDecrementDivElement.setAttribute("style", "display:none");
           } else {
                // product is in cart; hide the add to cart button
                addToCartButton.setAttribute("style", "display: none");
           }

           const minusButton = document.createElement("button");
           incrementAndDecrementDivElement.appendChild(minusButton);
           minusButton.className = "minus-btn";
           minusButton.textContent = "-";
           const quantityInputElement = document.createElement("input");
           incrementAndDecrementDivElement.appendChild(quantityInputElement);
           quantityInputElement.setAttribute("type", "text");
           quantityInputElement.setAttribute("class", "quantity");
           quantityInputElement.setAttribute("value", itemQuantity);
           quantityInputElement.readOnly = true;
           const plusButton = document.createElement("button");
           incrementAndDecrementDivElement.appendChild(plusButton);
           plusButton.className = "plus-btn";
           plusButton.textContent = "+";
        }
    </script>
    <script type="text/javascript" defer src="js/add_to_cart.js"></script>
</body>

</html>