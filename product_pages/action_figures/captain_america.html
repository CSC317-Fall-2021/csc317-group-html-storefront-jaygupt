<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        Product - Captain America
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/product_page.css">
</head>

<body leftmargin="0" topmargin="0">
    <!-- Navbar Beginning -->
    <header>
        <nav class="navbar">
            <h1 id="logo"><a href="../../index.html" id="logo-text"><span class="logo-g">G</span>ood<span
                        class="logo-g">G</span>ame</a></h1>
            <a href="../../index.html">HOME</a>
            <a href="../../categories.html">CATEGORIES</a>
            <input type="text" placeholder="Search products..." id="productSearch">
            <a href="../../login.html">LOGIN/REGISTER</a>
            <a href="../../cart.html">CART</a>
            <a href="../../about_us.html">ABOUT</a>
        </nav>
    </header>
    <!-- Navbar Ending -->

    <!-- Main Product Image & Description (Beginning) -->
    <div id="mainProduct" class="grid-container">
        <div id="slider">
            <input type="radio" name="slider" id="slide1" checked>
            <input type="radio" name="slider" id="slide2">
            <input type="radio" name="slider" id="slide3">
            <input type="radio" name="slider" id="slide4">

            <div id="slides">
                <div id="overflow">
                    <div class="inner">
                        <div class="slide slide-1">
                            <div class="slide-content">
                            </div>
                        </div>
                        <div class="slide slide-2">
                            <div class="slide-content">
                            </div>
                        </div>
                        <div class="slide slide-3">
                            <div class="slide-content">
                            </div>
                        </div>
                        <div class="slide slide-4">
                            <div class="slide-content">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Product Image & Description (Ending) -->

    <!-- Similar Products (Beginning) -->
    <div class="similar-products-header">Similar Products</div>
    <div class="similar-products">
        <div class="similar-product">
            <a href="batman.html">
                <img class="similar-product-image" src="../../images/product_images/action_figures/batman.jpg"
                    alt="Batman">
            </a>
            <div class="similar-product-name">Batman</div>
            <div class="similar-product-price">$29.99</div>
            <button class="btn">Add to Cart</button>
        </div>
        <div class="similar-product">
            <a href="iron_man.html">
                <img class="similar-product-image" src="../../images/product_images/action_figures/iron_man.jpg"
                    alt="Iron Man">
            </a>
            <div class="similar-product-name">Iron Man</div>
            <div class="similar-product-price">$13.33</div>
            <button class="btn">Add to Cart</button>
        </div>
        <div class="similar-product">
            <a href="spider_man.html">
                <img class="similar-product-image" src="../../images/product_images/action_figures/spider_man.jpeg"
                    alt="Spider-Man">
            </a>
            <div class="similar-product-name">Spider-Man</div>
            <div class="similar-product-price">$28.88</div>
            <button class="btn">Add to Cart</button>
        </div>
    </div>
    <!-- Similar Products (Ending) -->

    <!-- Footer Beginning -->
    <footer class="footer">
        <p>GoodGame.com, Copyright &copy;2021</p>
    </footer>
    <!-- Footer Ending -->

    <!-- Script Tags -->
    <script type="text/javascript" src="../../js/main.js"></script>
    <!-- <script type="text/javascript" defer src="../../js/add_to_cart.js"></script> -->
    <script type="text/javascript" defer>
        const product = findProduct("Captain America");

        const productName = product.name;
        const productPrice = product.price;
        const productDescription = product.description;
        const productImageURL = product.imageURL;

        /* Create Element for Product Specification (On Right Side) */
        const productSpecificationDivElement = document.createElement("div");
        productSpecificationDivElement.className = "product-specification";

        const productTitleDivElement = document.createElement("div");
        productTitleDivElement.className = "product-title";
        productTitleDivElement.textContent = productName;
        productSpecificationDivElement.appendChild(productTitleDivElement);

        const productPriceDivElement = document.createElement("div");
        productPriceDivElement.className = "product-price";
        productPriceDivElement.textContent = "Price: $" + productPrice;
        productSpecificationDivElement.appendChild(productPriceDivElement);

        const productDescriptionDivElement = document.createElement("div");
        productDescriptionDivElement.className = "product-description";
        productDescriptionDivElement.textContent = productDescription;
        productSpecificationDivElement.appendChild(productDescriptionDivElement);

        const mainAddToCartButton = document.createElement("button");
        mainAddToCartButton.className = "btn";
        mainAddToCartButton.textContent = "Add to Cart";
        productSpecificationDivElement.appendChild(mainAddToCartButton);

        const mainProductDivElement = document.getElementById("mainProduct");
        mainProductDivElement.appendChild(productSpecificationDivElement);

        /* Create Element for Image, and Append it Wherever it is Needed */
        const productImageElement = document.createElement("img");
        productImageElement.setAttribute("src", "../../" + productImageURL);
        productImageElement.setAttribute("alt", "Captain America");
        
        const slideContents = document.getElementsByClassName("slide-content");

        // TODO: Submit as Issue Faced: Couldn't simply use append Child; 
        // had to use cloneNode method as appendChild was only appending the last
        // image element
        for (let i = 0; i < slideContents.length; i++) {
            slideContents[i].appendChild(productImageElement.cloneNode(true));
        }

        /* Do the same for Mini Image Elements */
        const miniImagesDivElement = document.createElement("div");
        miniImagesDivElement.setAttribute("id", "miniImages");

        // append the mini images to the miniImagesDivElement
        for (var i = 1; i < 5; i++) {
            const miniImageDivElement = document.createElement("div");
            miniImageDivElement.className = "mini-image";
            miniImagesDivElement.appendChild(miniImageDivElement);

            const miniImageLabelElement = document.createElement("label");
            miniImageDivElement.appendChild(miniImageLabelElement);

            miniImageLabelElement.setAttribute("for", "slide" + i);
            miniImageLabelElement.className="slide-" + i;
            miniImageLabelElement.appendChild(productImageElement.cloneNode(true));
        }

        document.getElementById("slider").appendChild(miniImagesDivElement);
    </script>
</body>

</html>