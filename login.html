<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
</head>

<body leftmargin="0" topmargin="0">
    <!-- Navbar Beginning -->
    <header>
        <nav class="navbar">
            <h1 id="logo"><a href="index.html" id="logo-text"><span class="logo-g">G</span>ood<span class="logo-g">G</span>ame</a></h1>
            <a href="index.html">HOME</a>
            <a href="categories.html">CATEGORIES</a>
            <input type="text" placeholder="Search products..." id="productSearch">
            <a href="#" class="current">LOGIN/REGISTER</a>
            <a href="cart.html">CART</a>
            <a href="about_us.html">ABOUT</a>
        </nav>
    </header>
    <!-- Navbar Ending -->

    <!-- Login/Register -->
    <div id="loginContent">
        <div class="container">
            <div class="signin">
                <form class="form">
                    <h1>Sign In</h1>
                    <div class="social-container">
                        <a href="#"><img src="images/social_media_icons/facebook.png" alt="facebook"></a>
                        <a href="#"><img src="images/social_media_icons/linkedin.png" alt="linkedin"></a>
                        <a href="#"><img src="images/social_media_icons/google_plus.png" alt="google_plus"></a>
                    </div>
                    <span>or use your account</span>
                    <input type="email" placeholder="Email" id="loginEmail">
                    <input type="password" placeholder="Password" id="loginPass">
                    <a href="#">Forgot your password?</a>
                    <button type="submit" class="btn">Sign in</button>
                </form>
                <div class="side">
                    <h1>Hello, Friend!</h1>
                    <p>Enter your personal details and start journey with us</p>
                    <button class="btn">Sign up</button>
                </div>
            </div>
            <div class="signup hidden">
                <form class="form">
                    <h1>Create Account</h1>
                    <div class="social-container">
                        <a href="#"><img src="images/social_media_icons/facebook.png" alt="facebook"></a>
                        <a href="#"><img src="images/social_media_icons/linkedin.png" alt="linkedin"></a>
                        <a href="#"><img src="images/social_media_icons/google_plus.png" alt="google_plus"></a>
                    </div>
                    <div class="form-control" id="firstControl">
                        <input type="text" placeholder="Username" id="username">
                        <small>error message</small>
                    </div>
                    <div class="form-control">
                        <input type="text" placeholder="Email" id="email">
                        <small>error message</small>
                    </div>
                    <div class="form-control">
                        <input type="password" placeholder="Password" id="password">
                        <small>error message</small>
                    </div>
                    <div class="form-control">
                        <input type="password" placeholder="Re-enter Password" id="password2">
                        <small>error message</small>
                    </div>
                    <button type="submit" class="btn">Sign Up</button>
                </form>
                <div class="side">
                    <h1>Welcome Back!</h1>
                    <p>To keep connected with us please login with your personal info</p>
                    <button class="btn">Sign in</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Login/Register Ending -->

    <!-- Footer Beginning -->
    <footer class="footer">
        <p>GoodGame.com, Copyright &copy;2021</p>
    </footer>
    <!-- Footer Ending -->
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" defer>
        /*switching signIn/signUp forms Start*/
        const toggleBtns = document.querySelectorAll('.side .btn');
        const signIn = document.querySelector('.signin');
        const signUp = document.querySelector('.signup');
        const sides = document.querySelectorAll('.side');
        const forms = document.querySelectorAll('.form');

        toggleBtns.forEach(btn => {btn.addEventListener('click',toggle)});

        function toggle(){
            signIn.classList.toggle('hidden');
            signUp.classList.toggle('hidden');
            sides.forEach(side => {side.classList.toggle('left')});
            forms.forEach(form => {form.classList.toggle('right')});
        }
        /*switching signIn/signUp forms End*/


        /*Mobile Layout Animation Start*/
        const mobileBtns = document.querySelectorAll('.btn.mobile-only');

        mobileBtns.forEach(btn => {btn.addEventListener('click',mobileToggle)});

        function mobileToggle(){
            signIn.classList.toggle('hidden');
            signUp.classList.toggle('hidden');
            signIn.classList.toggle('top');
        }
        /*Mobile Layout Animation End*/

        /*SignUp form validation Start*/
        const signUpForm = document.querySelector('.signup .form');
        const username = document.querySelector('#username');
        const email = document.querySelector('#email');
        const password = document.querySelector('#password');
        const password2 = document.querySelector('#password2');

        signUpForm.addEventListener('submit',checkValues);

        function checkValues(e){
            e.preventDefault();

            const usernameValue = username.value.trim();
            const emailValue = email.value.trim();
            const passwordValue = password.value.trim();
            const password2Value = password2.value.trim();

            let isError = false;

            if(usernameValue === ""){
                showError(username,'Username cannot be empty');
                isError = true;
            }
            else if(usernameValue.length < 10){
                showError(username,'Username should be at least 10 characters');
                isError = true;
            }
            else{
                success(username);
            }

            if(emailValue === ""){
                showError(email,'Email cannot be empty');
                isError = true;
            }
            else if(emailValue.indexOf('@') === -1 || emailValue.indexOf(".") === -1){
                showError(email,'Please enter a valid email');
                isError = true;
            }
            else{
                success(email);
            }

            if(passwordValue === ""){
                showError(password,'Password cannot be empty');
                isError = true;
            }
            else if(passwordValue.length < 10){
                showError(password,'Password should be at least 10 characters');
                isError = true;
            }
            else{
                success(password);
            }

            if(password2Value !== passwordValue){
                showError(password2,'Password does not match');
                isError = true;
            }
            else{
                success(password2);
            }

            if(!isError){
            alert("Account Created Succesfully.");
            }
        }

        function showError(input,message){
            const formControl = input.parentElement;
            const error = formControl.querySelector('small');
            input.style.border = '2px solid red';
            error.innerText = message;
            error.style.visibility = 'visible';
        }

        function success(input){
            const formControl = input.parentElement;
            const error = formControl.querySelector('small');
            input.style.border = 'none';
            error.style.visibility = 'hidden';
        }
        /*SignUp form validation End*/

        /*SignIn form validation Start*/
        const signInForm = document.querySelector('.signin .form');
        const loginEmail = document.querySelector('#loginEmail');
        const loginPass = document.querySelector('#loginPass');

        signInForm.addEventListener('submit',verifyLogin);

        function verifyLogin(e){
            e.preventDefault();

            const loginEmailValue = loginEmail.value.trim();
            const loginPassValue = loginPass.value.trim();

            if(loginEmailValue === "kpatel10@sfsu.edu" && loginPassValue === "abcdef123456"){
            alert("Login Successfull");
            }
            else{
            alert("Login failed. Username or Password incorrect.");
            }
        }
        /*SignIn form validation End*/
    </script>
</body>

</html>